<div class="row app-home-search-bar">
  <div class="col s12 m12 l12 {{ anyFilter() ? 'offset-xl1 xl11' : 'xl12' }}">
    <div class="app-search-bar-wrapper" [class.app-hover]="searchStr">
      <div class="input-field">
        <label for="autocomplete-input" class="app-hidden-label">{{ getPlaceholder() }}</label>
        <ng2-completer #completer (keyup)="onKeyUp($event)" (selected)="onSelected($event)" [(ngModel)]="searchStr" [matchClass]="'highlight'"
        [datasource]="service" [minSearchLength]="1" [inputId]="'autocomplete-input'" [inputClass]="'autocomplete'" [placeholder]="getPlaceholder()" [inputName]="'autocomplete-input'">
        </ng2-completer>
      </div>
      <!-- <mat-icon (click)="onMagnifyIconClick()" class="app-button-search">search</mat-icon>
      <mat-icon *ngIf="searchStr" (click)="cleanQuery()" class="app-button-close" [matTooltip]="'searchbar.delete_query' | translate">close</mat-icon>
      <mat-icon tabindex="0" (click)="showHelp()" class="app-button-help" [matTooltip]="'searchbar.help' | translate">info_outline</mat-icon> -->

      <button (click)="onMagnifyIconClick()" class="app-button app-button-search" mat-icon-button [attr.aria-label]="'searchbar.search' | translate" [matTooltip]="'searchbar.search' | translate">
        <mat-icon>search</mat-icon>
      </button>
    
      <button *ngIf="searchStr" (click)="cleanQuery()" class="app-button app-button-close" mat-icon-button [attr.aria-label]="'searchbar.delete_query' | translate" [matTooltip]="'searchbar.delete_query' | translate">
        <mat-icon>close</mat-icon>
      </button>
    
      <button (click)="showHelp()" class="app-button app-button-help" mat-icon-button [attr.aria-label]="'searchbar.help' | translate" [matTooltip]="'searchbar.help' | translate">
        <mat-icon>info_outline</mat-icon>
      </button>

    </div>
    <mat-checkbox *ngIf="accessibilityFilterEnabled()" color="primary" (change)="onAccessibilityFilterChanged()" [(ngModel)]="accessibilityFilter">{{ 'home.public_filter' | translate }}</mat-checkbox>
    <mat-checkbox *ngIf="preselectedLicencesFilterEnabled()" color="primary" (change)="onPreselectedLicencesFilterChanged()" [(ngModel)]="preselectedLicencesFilter">{{ 'home.preselected_licences_filter' | translate }}</mat-checkbox>

  </div>
</div>
<div class="row">
  <div class="col s12">
    <button (click)="onSearchButtonClick()" mat-flat-button color="primary">{{ (!!searchStr ? 'home.btn_search' : 'home.btn_enter') | translate }}</button>
  </div>
</div>