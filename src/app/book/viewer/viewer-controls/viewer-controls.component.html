<div class="app-view-controls">


  <mat-icon (click)="goToPrevious()" *ngIf="!bookService.showGeoreference" [matTooltip]="'view_controls.tooltip_page_left' | translate" [class.app-inactive]="!hasPrevious()">chevron_left</mat-icon>

  <mat-icon (click)="controlsService.zoomIn();analytics.sendEvent('viewer', 'controls', 'zoom in');"
            [matTooltip]="'view_controls.tooltip_zoom_in' | translate" 
            *ngIf="showZoom()">
            add_circle_outline
  </mat-icon>

  <mat-icon (click)="controlsService.zoomOut();analytics.sendEvent('viewer', 'controls', 'zoom out');"
            [matTooltip]="'view_controls.tooltip_zoom_out' | translate" 
            *ngIf="showZoom()">
            remove_circle_outline
  </mat-icon>

  <mat-icon (click)="controlsService.fitToScreen();analytics.sendEvent('viewer', 'controls', 'fit to screen')"
            [matTooltip]="'view_controls.tooltip_fit_to_screen' | translate"
            *ngIf="showFitToScreen() && !bookService.showGeoreference">
            fit_screen
  </mat-icon>

  <mat-icon (click)="controlsService.enterFullscreen(bookService.showGeoreference ? 'geo_ol' : 'app-viewer');analytics.sendEvent('viewer', 'controls', 'enter fullscreen')"
            [matTooltip]="'view_controls.tooltip_enter_fullscreen' | translate" 
            *ngIf="controlsService.fullscreenAvailable && !controlsService.fullscreenEnabled()">
            fullscreen
  </mat-icon>

  <mat-icon (click)="controlsService.exitFullscreen(bookService.showGeoreference ? 'geo_ol' :'app-viewer');analytics.sendEvent('viewer', 'controls', 'exit fullscreen');"
            [matTooltip]="'view_controls.tooltip_exit_fullscreen' | translate" 
            *ngIf="controlsService.fullscreenAvailable && controlsService.fullscreenEnabled()">
            fullscreen_exit
  </mat-icon>

  <mat-icon (click)="controlsService.rotateRight();analytics.sendEvent('viewer', 'controls', 'rotate')"
            [matTooltip]="'view_controls.tooltip_rotate_right' | translate" 
            *ngIf="showRotation() && !bookService.showGeoreference">
            rotate_right
  </mat-icon>

  <mat-icon (click)="bookService.toggleDoublePage();controlsService.doublePageOff();analytics.sendEvent('viewer', 'controls', 'double page off')"
            [matTooltip]="'view_controls.tooltip_doublepage_off' | translate" 
            *ngIf="showDoublePageOff() && !bookService.showGeoreference">
            auto_stories
  </mat-icon>

  <mat-icon (click)="bookService.toggleDoublePage();controlsService.doublePageOn();analytics.sendEvent('viewer', 'controls', 'double page on')"
            [matTooltip]="'view_controls.tooltip_doublepage_on' | translate" 
            *ngIf="showDoublePageOn() && !bookService.showGeoreference">
            auto_stories
  </mat-icon>

  <mat-icon (click)="controlsService.selectText();analytics.sendEvent('viewer', 'controls', 'select text')"
            [matTooltip]="'view_controls.tooltip_select_text' | translate" 
            *ngIf="showSelectText() && !bookService.showGeoreference">
            title
  </mat-icon>

  <mat-icon (click)="onCropImageClicked()"
            [matTooltip]="'view_controls.tooltip_crop_image' | translate" 
            *ngIf="showImageCrop() || bookService.showGeoreference">
            crop
  </mat-icon>
  
  <mat-icon (click)="hideWarpedLayer()"
            [matTooltip]="'view_controls.tooltip_hidewarpedlayer' | translate" 
            *ngIf="bookService.hasGeoreference && bookService.showGeoreference">
            visibility
  </mat-icon>

  <mat-icon (click)="goToNext()" *ngIf="!bookService.showGeoreference" [matTooltip]="'view_controls.tooltip_page_right' | translate" [class.app-inactive]="!hasNext()">chevron_right</mat-icon>

  <mat-icon (click)="showGeoMap()"
            [matTooltip]="'view_controls.tooltip_showgeoreferenced' | translate" 
            *ngIf="bookService.hasGeoreference && !bookService.showGeoreference">
            map
  </mat-icon>

  <mat-icon (click)="hideGeoMap()"
            [matTooltip]="'view_controls.tooltip_hidegeoreferenced' | translate" 
            *ngIf="bookService.hasGeoreference && bookService.showGeoreference">
            image
  </mat-icon>

  <mat-slider *ngIf="bookService.hasGeoreference && bookService.showGeoreference" 
            min="0" max="1" step=".1" [(ngModel)]="controlsService.geoLayerOpacity"
            thumbLabel [matTooltip]="'view_controls.tooltip_setlayeropacity' | translate"
            [displayWith]="formatSliderLabel"
            (change)="onChangeOpacity($event)">
  </mat-slider>

</div>