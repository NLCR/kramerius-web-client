<app-book-toolbar class="hide-on-med-and-up"></app-book-toolbar>

<div class="app-book-wrapper">
  <app-navigation *ngIf="bookService.showNavigationPanel"
    [class.app-panel-hidden]="!viewerControls.leftPanelVisible"
    [class.app-panel-tablet-visible-right]="!viewerControls.rightPanelVisible"
    [class.app-panel-mobile-hidden]="bookService.activeMobilePanel != 'navigation'">
  </app-navigation>
  
  
  <app-epub-viewer *ngIf="bookService.getUuid() == 'uuid:9ebcb206-24b7-4dc7-b367-3d9ad7179c23'; else foo"></app-epub-viewer>
  
  <ng-template #foo>
    <app-viewer *ngIf="bookService.viewer === 'image'"></app-viewer>
    
    <app-pdf-viewer2 *ngIf="bookService.viewer === 'pdf'"></app-pdf-viewer2>
  </ng-template>



  <app-metadata *ngIf="!bookService.isDocLoading()"
    [class.app-panel-hidden]="!viewerControls.rightPanelVisible" 
    [class.app-panel-tablet-visible-left]="!viewerControls.leftPanelVisible"
    [class.app-panel-mobile-hidden]="bookService.activeMobilePanel != 'metadata'" 
    class="app-book-metadata" 
    [metadata]="bookService.metadata">
      <app-book-controls></app-book-controls>
  </app-metadata>
</div>

<mz-spinner *ngIf="bookService.isDocLoading()"
  class="medium-centered-spinner"
  [color]="'blue'"
  [size]="'medium'">
</mz-spinner>